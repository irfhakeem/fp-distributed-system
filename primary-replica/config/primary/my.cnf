[mysqld]
server-id = 1

# Binary logging config
log-bin = mysql-bin
binlog-format = ROW
binlog-do-db = testdb
sync_binlog = 1

# GTID config
gtid-mode = ON
enforce-gtid-consistency = ON

# Replication settings
max_binlog_size = 100M
expire_logs_days = 7
log-slave-updates = ON

# Char set
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci

# Performance tuning
max_connections = 200
innodb_buffer_pool_size = 256M
innodb_log_file_size = 64M
innodb_flush_log_at_trx_commit = 1

# Binary log cache
binlog_cache_size = 32K
max_binlog_cache_size = 128M

# Replication performance
slave_parallel_workers = 4
slave_parallel_type = LOGICAL_CLOCK

[client]
default-character-set = utf8mb4
